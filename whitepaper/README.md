## Enigma：去中心化的隐私计算平台
### 摘要
Enigma是一个点对点网络，允许互不信任的多个参与方共同对数据进行存储和计算，并能彻底地保证数据的隐私。Enigma的计算模型建立在安全多方计算之上，具体地，我们采用了高度优化的可验证秘密分享体系。在隐私存储方面，我们使用了改进版的分散哈希表来保护共享秘密的数据。一个外部的区块链被用作该存储计算网络的控制器，管理着数据的访问控制权限和数字身份，并充当一个防篡改的事件日志库。保证金和服务费可以激励系统的运作，确保隐私计算的正确性和公平性。类似于比特币，Enigma也不需要一个可信的第三方，系统能够根据激励系统自主地控制个人数据。这是用户第一次能够在密码学保护下共享他们的隐私数据。
### 1.动机
从人类的早期历史来看，中心化是发展的一个主要竞争优势。具有中心化治理的社会制度能够发展出更先进的技术，累计更多的资源并实现快速的人口增长[1]。随着社会的演变，中心化的负面影响逐渐显露了出来：腐败、不平等、维持现状和滥用权力。事实证明，一定程度的权力分离[2]是必要的。如今，人们试图在这两种模型之间找到平衡，在去中心化治理的核验和制衡下做到集中控制，从而最大化产出和效率。
互联网的原始诉求是彻底的去中心化和自由[3]。然而，在过去的十年中，互联网的惊人增长引发了更大的中心化。少数大公司拥有网络的重要关口，因此占据了大量互联网数据。这些组织缺乏透明度和控制，再次揭示了中心化的负面影响: 操纵[4]，监视[5]和频繁的数据泄露[6]。
比特币[9]和其他区块链系统[10] (例如，以太坊)给出了一个全新的未来。互联网应用程序现在可以构建在去中心化架构上，其中没有任何一方拥有绝对的权力。区块链的公共性质保证了应用运行时的透明度，并留下了无可辩驳的活动记录，这为诚实行为提供了强有力的激励。比特币这种货币是第一个这样的应用程序，为互联网开启了一个新的范式。
然而，区块链的公共验证性也限制了其潜在的使用场景。现代应用程序使用大量数据，并对这些数据进行全面分析。这个限制意味着只有受信代码可以在区块链上运行[7]。问题是，现代应用程序往往需要对隐私数据进行大量加工。当前的区块链设计根本无法管理隐私，而且也不适用于繁重的计算。区块链系统的公共性质意味着隐私数据在流经网络中的每个全节点时会完全暴露。
这种情况下有一个奇怪的矛盾。最敏感的隐私数据似乎只能在中心化、不透明的和不安全的模型中存储和处理。我们认为这种模式导致了我们不得不接受灾难性的数据泄漏以及系统性的隐私缺失。

### 2.Enigma
Enigma是一个去中心化的隐私计算平台。我们的目标是使开发人员能够在没有可信第三方的情况下构建“privacy by design”(即GDPR隐私始于设计原则)、端到端的去中心化应用。
Enigma是隐私安全的。通过使用安全多方计算(sMPC或MPC)，数据查询被转化为分布式的计算，无需受信任的第三方。具体来说，数据先被切分成不同的单元，然后分别发送到不同节点上，所有节点联合计算函数而不会将各自拥有的单元信息泄露给其他节点。没有任何一方能获取数据的整体；相反，每一方持有的只是毫无意义的、看似随机的一部分。
Enigma是可扩展的。与公共区块链不同的是，Enigma网络中的计算和数据存储不会复制到每个全节点。只有一小部分节点会在不同的数据单元上执行计算。减少存储计算的冗余能让网络支持更多高要求的计算。
Enigma带来的关键价值在于: 无需访问原始数据本身，也能够联合数据单元进行函数计算。例如，一组人想在不泄漏自己工资信息的情况下计算他们的平均工资，就可以只提供他们的工资数据的访问权(具体地，授权许可特定函数在工资数据单元上进行安全计算)。通过MPC，每个参与者只能了解到各自在小组中的相对位置，而对其他成员的工资一无所知。在实践中，MPC可以安全地评估任何程序，同时保持输入的秘密。
今天，共享数据是一个不可逆转的过程；一旦发送，就无法收回或限制其使用方式。提供数据的访问权用以安全计算是可逆的和可控制的，因为除了数据所有者之外，没有其他人能够看到原始数据。这给当前数据分析方法带来了根本性的变化。

### 3.设计概述
Enigma旨在连接现有的区块链和一个用以隐私密集型计算的链下网络。区块链系统可以通过数字签名和可编程的权限来实施访问控制。
代码在区块链(公共验证部分)和链下网络(隐私密集型的计算部分)上执行。 Enigma的执行方式确保了隐私和正确性，而单独的公共区块链只能保证后者。链下正确执行的证明被存储在区块链中用以审计。我们提供了一种脚本语言，支持使用隐私合约来设计端到端的分布式应用。这是一种更强大的智能合约变体，可以处理隐私信息（即，它们的状态不是严格公开的）。
这种脚本语言也是图灵完备的，但这点不像它的可伸缩性那般重要。公共区块链中的代码执行是去中心化的，但不是分布式的，因为每个节点冗余地执行相同的代码并保持相同的公共状态。在Enigma中，计算任务被有效地分发到网络的特定子集节点上。同时，如图1所示，一个解释器自动地拆分了隐私合约的执行，从而改善了运行时间，同时保持隐私和可验证性。

链下网络解决了以下几个区块链技术无法处理的问题：
- 储存。区块链不是通用数据库。 Enigma有一个去中心化的链下分布式哈希表(或DHT)，可供区块链访问，并且该表只存储数据的引用(即，MPC划分后的数据单元)，而不存储数据本身。在存储和访问控制协议被写入区块链之前，隐私数据应该在客户端进行加密。 Enigma使用定制化的脚本语言为这些任务提供简单的API。
- 隐私计算。 Enigma的网络确保正确执行代码，同时不会将原始数据泄露给任何计算节点。这是取代目前中心化隐私解决方案和可信覆盖网络的关键。这些中心化方案通常否定区块链的优势，而Enigma将要重新定义这点。计算模型在第5章中详细描述。
- 密集处理。即使隐私不是一个问题，区块链也无法扩展到需要大量交易清算的场景。Enigma的链下网络则可以用于运行被广播到区块链上的大量计算。

### 4.链下存储
链下节点构建了一个分布式数据库。每个节点都具有加密数据及其单元的独特视图，因此保证计算过程的隐私性和容错性。该数据库还可以存储未加密的大型公共数据（例如，文件）并将它们的访问地址记录到区块链。图2示例了单个节点的数据库视图。

在网络层面，该分布式存储的设计基于改进的Kademlia DHT协议[11]，增加了持久性和安全的点对点信道(这方面使用广播信道和公钥加密进行模拟)。该协议有助于有效地分发数据单元。我们修改了原始Kademlia距离度量，着重考虑了节点存储数据时(根据服务情况)被优先选择的概率。

### 5.隐私计算
在本节中，我们将描述Enigma的计算模型。我们首先简要介绍基于密码学最新进展的公开可验证安全MPC。然后，我们介绍一系列针对安全MPC的性能改进，这些改进使得其在网络规模很大时也能保证实用性。这些改进包括分层安全MPC、网络缩减和自适应电路。
为了使用Enigma，开发人员需要编写高级程序代码，其中公开部分在区块链上执行，隐私部分在Enigma平台上运行。我们称之为隐私合约，因为它们是可以处理隐私信息同时防止隐私泄露的智能合约。

#### 5.1 安全多方计算
#### 5.1.1隐私（被动攻击者）
姚期智在1982年提出了第一个安全两方计算协议[12]。在论文中，他提出了著名的百万富翁问题，即有两位百万富翁想要在不透露他们的实际资产值的情况下，知道谁更富有。在此后的几十年中，百万富翁问题被推广到MPC，同时进一步推广到N个参与方的问题。通用MPC协议都可以由基本MPC门电路组成。近年来，通用MPC主要有两种范式：姚期智的串联（布尔）电路[13]和基于秘密共享的MPC，后者更常用于生产系统（例如，[14]和[15]），同时也是我们关注的焦点。
一个阈值加密系统的定义为(t+1,n) - threshold，其中n是参与方的数量，t+1是解密一个被加密的秘密所需的最小参与方数量。秘密共享是阈值密码系统的一个例子，其中密码s被分割为n份并分散在n个参与方，重建s至少需要t+1个参与方。任何t个参与方的子集都无法获取该密钥的任何信息。线性秘密共享方案（LSSS）将秘密划分为多个共享单元(share)，而秘密是共享单元的线性组合。Shamir的秘密共享（SSS）是LSSS的一个例子，它在有限域Fp下使用多项式插值来保证秘密的安全[16]。具体来说，为了共享一个秘密s，我们选择一个随机的t次多项式q(x):

共享单元采用如下方法来获得：

然后，给定任何t+1个共享单元，我们就可以使用拉格朗日插值来重建q(x)，然后再使用s = q(0)来恢复秘密s。由于SSS是线性的，因此它也是加法同态的，即如果要对共享秘密进行加法和乘法的标量运算，可以直接在各共享单元上执行操作，无需与其他共享单元进行交互。公式如下：

两个不同共享秘密(如s1和s2)的乘法相比加法来说复杂得多。如果每一方都试图在本地计算两个秘密的乘积，那么从共享单元层面来看，计算就变成了2t次方的多项式。想高效快速地得到正确的结果就需要对多项式的次数进行缩减(2t→t)。在信息理论方面，为了保证这一操作的隐私性和正确性，需要一半以上的参与方是诚实的（即t <n/2）。如果我们限制对手的计算能力，那么即便出现任何数量的不诚实方都不会影响隐私性和正确性，但要确保公平性和结果的确定性的话，我们仍然要求半数以上的参与方是诚实的[17]。
性能方面，对乘法的二次多项式进行缩减的步骤中，包含了信息共享操作，这意味着所有的参与方都必须与其他各方(O(n^2)通信次数)进行交互，如果n太大，MPC将是不切实际的。虽然存在能够降低复杂度的优化方案，但这些方案是基于一定的假设的，无法在实际中使用。为了使安全MPC对于任意大型网络都是可行的，我们采用了5.2节中所描述的方法作为该问题的通用解决方案。
请注意，只需使用安全的加法和乘法协议，我们就可以为任何算术函数构建一个电路。同时为了确保图灵完整性，我们还需要处理控制流程。对于涉及秘密值的条件语句，我们就要评估语句的分支，如果是动态循环，就需要让语句执行更加随机。我们的通用MPC解释器正是基于这些核心概念和论文中提及的其他优化实现的。

#### 5.1.2 正确性（恶意攻击者）
到目前为止，我们已经讨论了隐私性。活跃性(Liveness)，即计算能够终止并且系统流程能够进行下去，也同样要求大多数节点是诚实的。之所以说活跃性建立在诚实多数的基础上，是因为活跃性包括且仅包括重建中间值和输出值。但是在目前的框架中，我们无法保证输出的正确性；任何一个参与方pi可以在整个计算过程中发送无效结果，使得最后的输出无效。虽然BGW [17]提出了一个可验证的MPC的信息理论解决方案，也给出了一个简单的实现，但它的实际复杂度可能与O（n^8）一样糟糕。
因此，我们的目标是设计一个对恶意攻击者安全的MPC框架，但具有与半诚实情况下相同的复杂度(O(n^2))，然后再进一步优化。
最近，Baum等人开发了一个可公开审计的安全MPC系统，即使所有计算节点都是暗中恶意的，或者除一个节点外其他节点都是主动恶意的，它都能确保正确[18]。他们最先进的结果是基于SPDZ协议(发音为speedz)[19]并依赖于一个公开的公告板来存储每次计算的轨迹，公共板只能插入数据，不能进行删除和修改。这允许任何审计方通过追踪公告板的轨迹来比较和检查输出是否正确。我们的系统使用区块链作为公告板，因此我们的整体安全性可以简化为托管区块链的安全性。

SPDZ。它是一种防御恶意攻击者(不诚实的多数)的协议，为MPC提供正确性保证。本质上，该协议由昂贵的离线(预处理)步骤组成，该步骤使用类同态加密(或SHE)来生成共享的随机性。在线阶段的计算类似于被动情况，并且不涉及昂贵的公钥加密，此时，每个共享单元被重新表示成共享及其MAC的组合，如下所示：

其中α是固定的秘密共享的MAC密钥，而⟨•⟩表示修改后的秘密共享方案，这也是加法同态的。⟨•⟩-sharing无需揭示全局MAC密钥α即可工作，因此α可以被重复使用。
跟前面类似，乘法相对加法更加复杂。乘法需要{⟨a⟩,⟨b⟩,⟨c⟩}三元组参与，这里c=ab，在预处理步骤中会生成许多这样的三元组。然后，给定两个秘密s1和s2，在⟨•⟩-sharing情况下，s = s1*s2的秘密共享是通过使用一个三元组来实现的:

如上所述，生成三元组是一个昂贵的SHE计算过程。包含了安全性证明过程的完整协议可在[18]中找到。验证部分通过如下的式子求解：

这里s可以是安全计算协议下的任意秘密的重建结果。直观地，这只是将MAC值与重建结果s和MAC密钥α的乘积进行比较的计算过程。我们没有进行实际秘密比较(而通过MAC值)的原因是这样可以让α仍然保持私密并且可以被重复使用。
我们现在可以看到⟨•⟩-sharing具有与SSS类似的属性，即它是加法同态的并且只需要一轮重新共享的过程就可以被用于乘法（O(n^2)通信复杂度）。然而与SSS相比，即便n个参与方中有n-1个是主动的攻击者，它同样可以确保安全性。离线的计算过程很容易进行计算摊销，可以在其他计算运行时做到并行地计算，因此它不会影响整体效率。

公开可验证的SPDZ。在公开可验证的情况下，MAC和计算轨迹的提交被存储在区块链中，因此即使所有n个计算方都是恶意的，该方案也是安全的。我们遵循[18]的表示，它定义了[•] –sharing，如下:

其中s是秘密，r是随机值，c = g^s * h^r是Pedersen承诺，g，h用作生成器。[•]-sharing保留了加法同态属性，并且通过略微修改乘法协议，我们还可以重新实现相同的离线三元组({ a, b, c})生成过程。
这里的一个关键是节点在<•>-sharing上进行计算而不是在Pedersen承诺上进行计算。这些承诺值被存储在区块链中，可以被任何有输出的验证者寻址。即使计算节点违背了其承诺，审计方也能够发现这一点。


#### 5.2 分层安全MPC
信息理论结果表明，安全MPC协议要求每个计算节点与所有其他节点进行恒定数量的交互(这需要O(n^2)通信复杂度)。在LSSS的情况下，该计算复杂度适用于乘法运算，而加法运算可以并行计算且无需相互通信。如前所述，安全的加法和乘法协议足以构建一个通用解释器来支持任何代码的安全执行[17]。

Cohen等人[20]最近提出了一种对数深度形式的分层MPC门控来模拟n方安全协议协议，如图3所示。我们将其扩展到LSSS，并且以增加计算复杂度为代价(这部分可并行)将原有的通信复杂度从二次降低成线性复杂度。图4说明了普通的MPC会如何受到参与方数量限制，而我们的实现(ps-MPC)可扩展到任意大型网络。


#### 5.3 网络缩减
为了最大化网络的计算能力，我们引入了网络缩减技术，每次计算随机选择整个网络中一组子集节点来进行。随机选择过程优先根据负载平衡要求和节点的累积声誉来选择参与计算的节点，节点的累积声誉是通过他们被公开验证过的行为来衡量的。网络缩减确保了在任意时刻网络是被充分利用的。

#### 5.4 适应性电路
在我们系统上执行的代码通过安全MPC分发，不会泄露用户的任何数据，除非一半以上不诚实的参与方勾结起来对网络进行攻击(t≥n/2)。用户输入和计算执行过程中的任何临时变量都不会被泄露。细心的读者会注意到，一个方法从输入到输出的过程中，中间结果通常会变得不那么具有可描述性，但信息更具有集中性。
对于简单函数或是涉及极少输入的函数来说，适应性电路不是必须要被采纳的，因为这些函数计算速度本身就很快，不需要再对这些函数进行额外的处理。
然而，对于代码量较大或是数据量较大的函数，我们可以在计算时动态地减少计算节点的数量，而不是在整个函数执行过程中使用固定数量的节点。具体来说，我们设计了一个前馈网络(如图5所示，从输入开始，中间结果一步步变化到输出)。图5的原始代码已经被重新组织过，我们首先处理输入中的加法门，然后处理乘法门。中间结果会与N/c个节点秘密共享，并且不断递归类似的过程。


#### 5.5 脚本
如前所述，端到端去中心化应用是使用隐私合约开发的，隐私合约进一步划分为链上和链外执行部分。链外代码私密地返回结果，同时向区块链发送正确执行的证明。为简单起见，我们的脚本语言在语法上会与当前的编程语言类似。
我们对脚本语言进行了两个重要的扩展，见5.6和5.7。

#### 5.6 私有数据类型
开发人员应使用private关键字指定私有对象，系统会自动确保涉及这些对象的任何计算都保持安全和私密。数据本身并不保存在私有对象中，私有对象中保存的是数据的引用。

#### 5.7 数据访问
我们的系统中有三个不同的去中心化数据库，每个数据库都可以通过全局字典访问。具体内容如下：
1) 公开账本。区块链公开账本可以通过使用L来进行访问和操纵。例如，L [k]←1将在所有节点上更新密钥k。由于账本是完全公开的并且只能在账本上追加内容，因此整个历史记录也都会被公开账本存储，并且可以使用L.get(k, t)来访问(只读)。
2) DHT。链下数据存储在DHT上，并且可以用与公开账本相同的方式进行访问。默认情况下，数据在传输之前先在本地加密，只有签名方可以请求数据。使用DHT.set(k, v, p)来访问键k对应的值v，谓词p：X→{0,1}设置了访问时的规则，当且仅当规则被满足时才能进行访问。我们提供了几种语言内置谓词，例如限制访问权限到一个公钥列表上。如果不进行加密，则默认谓词为∀x p(x)= 1，这种情况下数据是公开的，被分布存储在链下。
3) MPC。从语法上讲，使用MPC等同于DHT，但是底层的过程是不同的。比如，执行MPC.set(k, v, p)将秘密地共享v。共享单元被分发给潜在的计算参与方，他们在其本地中各自存储了一份共享单元。现在p可以通过ref←MPC [k]来指定谁可以使用数据来计算，同时不透露v。默认情况下，只有原始的数据分发者可以通过v←MPC.declassify(k)来请求原始数据。这一操作类似于共享过程，从各方收集共享单元并在本地重建秘密。另外，拥有相同共享身份的任何其他参与方可以引用该数据以进行计算。有关共享身份的详细信息，请参阅第6.1节。
为简单起见，我们为L、DHT和MPC字典中的所有键使用了单个命名空间，而实际上可以使用更精细的粒度，以便可以将它们分段为数据库、表和更精细的层次结构。

### 6.区块链互操作性
在本节中，我们将阐述Enigma如何与区块链进行互操作。我们将详细说明如何使用数字签名来形成与区块链兼容的复杂数字身份。然后，我们将继续描述连接公共区块链和Enigma链下网络的核心协议。

#### 6.1 身份管理
近期的一份调查论文将区块链技术分为两类：完全去中心化的免许可式账本（例如比特币、以太坊）和半中心化的许可式账本(例如Ripple)[21]。这篇论文中作者认为，一个系统在去中心化程度上存在固有的权衡考量：如果网络完全去中心化，那么就无法验证参与方身份(尽管只是伪匿名身份)，而带有可信节点的弱中心化系统可以验证真实身份, 但是这牺牲了去中心化程度。通过可链接到公共区块链的链下技术，我们可以避免以上的权衡考量，并让网络保持完全去中心化。
在Enigma中，我们定义了一种扩展身份，用来捕获多个实体间的共享身份及其语义。形式上，共享身份的伪匿名部分(pseudo-anonymous)是一个(2n+1)元组

其中n表示参与方的数量。如果n=1, 那么问题就变成了通常的伪身份情形。
我们结合了元数据的概念来完成对共享身份的定义。元数据中包含了身份验证的语义信息。这主要包括了由前面提到的谓词所定义的公共访问控制规则，Enigma网络用这些规则来对相关的公开或私有数据进行访问控制。
例如，Alice可能想告诉Bob她的身高，但不想告诉Bob她的体重。或者，她甚至可能不想告诉Bob她的确切身高，但是允许Bob使用她的身高进行计算。在这种情况下，Alice和Bob可以为此创建一个共享身份。Alice调用一个隐私合约，用MPC ['alice_height'] = alice_height来共享她的身高，Bob可以引用共享的信息进行计算，但不能直接访问到Alice的身高值。
默认的MPC谓词规则确定了Alice是共享信息的所有者，并且规则中Bob具有受限的信息访问权限。公开元数据由谓词规则、共享身份的地址列表和对数据的引用共同组成，并被保存在区块链中，换句话说- 公开元数据是指与身份相关的、用于公开验证访问权限的非敏感信息。而其他的私有元数据都可以使用DHT安全地存储在链外。
上面阐述了我们的系统如何消除了对可信节点的需求。与往常一样，公开交易通过区块链进行验证。通过保存在区块链上的共享身份和谓词规则来对数据进行访问控制。对于私有元数据，链外网络可以充当无需信任的隐私保护验证者。

#### 6.2 链接协议
我们现在开始讨论区块链链接到链外资源的核心协议。我们将详细说明身份在链上是如何形成并存储的，以及链下存储(DHT)和计算(MPC)请求是如何通过区块链进行路由的，当然要访问链下存储或计算资源必须满足条件。
#### 6.2.1 访问控制
下面算法1描述了共享身份的创建过程，算法2描述了如何在公开合约中实现访问权限的检查验证。

#### 6.2.2 存储和加载
算法3描述了如何通过DHT存储和加载数据。对于存储数据操作，需要使用给定的q-store谓词规则检查写入权限。存储方可以自定义数据读取权限检查的规则。这就是在脚本语言中使用DHT对象进行抽象的底层过程。

#### 6.2.3 共享和计算
算法4描述了MPC中的共享和计算协议。它们存储和加载来自DHT的共享数据，能够在保证数据安全的基础上，使用数据的引用(共享单元)来进行计算。

### 7.激励
Enigma并不是加密货币或区块链，Enigma网络中的激励基于计算费用而不是挖矿奖励，提供了计算资源的节点会收到相应的计算费用奖励。在Enigma网络中，我们需要全节点来提供数据的安全存储，并且需要一套机制来保证节点的恶意行为会受到相应的惩罚。

#### 7.1 保证金
我们可以利用MPC协议中对公平性保证的缺失来发起攻击。在某些情况下，恶意方可以在其他参与方知道输出之前得知输出并中止协议。如果攻击者占据了大多数，这种攻击是不可能被阻止的，但是我们可以通过一套机制来保证作恶的节点受到处罚。近来有一些学者调研了使用扣除保证金方式来惩罚MPC中的恶意节点的方式[22,23]。在Enigma中我们使用了类似的模型，并对其进行了扩展，保证节点的其他恶意行为也会受到相应处罚，例如破坏计算结果的正确性，在这里结果的正确性是由SPDZ协议验证的（参见第5.1.2节）。
一个全节点要加入网络中，进行数据存储，计算执行和费用收取，必须先向一个隐私合约提交保证金。每次计算任务完成后，隐私合约都会验证结果的正确性和公平性。如果发现某个节点结果不正确或过早中止计算，则该节点会失去保证金，该节点失去的保证金会被分配给其他诚实节点。在去除了恶意节点后，计算才会继续进行（例如，可以将恶意节点数据份额设置为0来阻止恶意节点参与计算）。

#### 7.2 计算费用
Enigma网络中数据存储，数据检索和计算操作都有固定的价格，类似于以太坊中的Gas机制。以太坊所有计算都需要每一个全节点进行一次，而在Enigma中，不同的节点执行每个计算任务的不同部分，节点根据其贡献获取相应佣金，贡献是以轮次为单位进行衡量的。我们把每个函数都被简化为加法和乘法门电路，每个门都需要进行一轮或多轮。参与计算的节点的佣金是其贡献的轮数和它所执行的操作（加法，乘法）的加权和。
考虑到平台是图灵完备的，我们不能总是预先计算出请求的确切成本。因此费用在计算完成之后扣除，一旦计算完成，计算请求的花费将从请求方帐户余额中扣除。如果请求方账户余额低于某个最小阈值，那么计算请求将无法进行下去。

#### 7.3 存储费用
数据存储的费用是根据市场情况和存储时限来决定的。托管合约将使用数据所有者的帐户余额自动续费。如果数据所有者的账户余额过低，他对数据的访问会受到限制，如果在一定时间内没有存入资金，他的数据将会被删除。

### 8.应用
#### 8.1 数据市场
数据市场即数据买卖市场，个人可以在市场中出售自己数据的使用权，数据需求方可以通过这个市场来获取数据。Enigma保证了数据的隐私，实现了对数据的自动化控制和更高的数据安全性，这使得仅出售数据的使用权而不暴露原始数据成为可能。例如，患者可以出售自己基因组数据的使用权，制药公司可以通过数据市场来购买患者数据使用权，对数据进行分析，从中找到合适的临床试验患者。这样的数据市场可以极大降低客户获取成本，并且为个人提供了新的收入来源— 售卖个人数据使用权。

#### 8.2 安全的后端
如今，许多公司都存储了大量客户数据。他们使用这些数据提供个性化服务，匹配个人偏好来分发广告和优惠等。这些公司可以将Enigma作为一个安全后端，将数据存储在Enigma网络，公司可以像往常一样使用这些数据，但是无需在自己的服务器上实际存储或处理数据，消除了数据安全风险，确保了客户的隐私。

#### 8.3 内部分隔
大型组织可以使用Enigma来保护其数据和商业机密，防止内部数据被间谍或职员泄露出去。数据保存在Enigma网络中，员工仍然可以像往常一样使用和分析数据，但无法窃取到任何数据，将数据和人分隔开来。而且这样可以提高组织内部的生产力，把原先只能被小范围人访问和使用的数据放到Enigma网络中，对外提供数据使用权限，这样，更多的人可以使用这些数据，但数据不会被泄露，而且数据安全成本会大大降低。

#### 8.4 N因子认证
语音识别、面部识别和指纹识别相关的数据，可以在Enigma上进行存储和计算。只有数据所有者才能访问这些数据。数据所有者可以在隐私合约中设置是否为其他人提供范围权限，没有授权的任何潜在的攻击者都无法访问到用户数据。

#### 8.5 数字身份
在Enigma网络中实现以完全匿名且可证明正确的方式对用户身份进行验证、进行数据的安全存储是非常简单的，只需要几行代码即可。这个过程很简单--用户秘密分享地认证所需的个人信息到链外存储中。当用户登录时，执行认证隐私合约，用公开伪身份来验证用户的访问权限并关联到其真实身份的存储中。这个过程完全无需信任，且能够保护用户隐私。

#### 8.6 物联网
使用Enigma在去中心化的、无需信任的云中存储、管理和使用物联网设备收集的(高度敏感的)数据，保证了数据的安全性。

#### 8.7 分布式个人数据存储
使用Enigma，我们可以在保持数据控制权和所有权的同时，与第三方共享数据。我们使用隐私合约为每项服务设置特定规则来实现这一点。我们的数据是真正受到保护的，因为数据共享是可逆的，我们总是可以取消共享，而且第三方无法访问原始数据，只能在其上进行安全计算。

#### 8.8 加密货币银行
使用Enigma，我们可以运营一个不会暴露个人隐私的加密货币银行。用户可以通过区块链获取贷款，存放加密货币或购买投资产品，无需公开披露其财务状况。

#### 8.9 匿名电子投票
使用Enigma，我们可以对任何事情进行匿名投票，不管是政治选举还是公司董事会会议投票，除了最终投票结果外，不会暴露任何内容。每个选民的投票可以保持隐私，甚至确切的投票数目也能够保持私密。

#### 8.10 比特币钱包
- 去中心化的私钥生成- 多个Enigma节点在本地保存一个密钥的一部分，而完整的密钥只能由所有者进行组装。任何地方都不会遗留下关于私钥的任何痕迹。
- 去中心化的交易签名- 在不暴露私钥或留下痕迹的情况下签署交易。
- 去中心化控制- 使用隐私合约设置支出限制、多重签名、CHECKLOCKTIMEVERIFY类似控件等。潜在的攻击者无从得知锁定时间、限制条件或所需签名的数量。

### References
[1] Diamond, Jared, and Germs Guns. Steel: The fates of human societies. New York: W. W. Norton, 1997.

[2] de Montesquieu, Charles. The spirit of the laws. Digireads. com Publishing, 2004.

[3] Perry, Barlow John. A Declaration of the Independence of Cyberspace. Electronic Frontier Foundation 8, 1996.

[4] Vindu Goel. Facebook tinkers with users emotions in news feed experiment, stirring outcry. The New York Times, 2014.

[5] James Ball. ”Nsas prism surveillance program: how it works and what it can do.” The Guardian, 2013.

[6] Bill Hardekopf. ”The Big Data Breaches of 2014.” Forbes, 2015.

[7] Nick Szabo. ”The dawn of trustworthy computing.” 2014

[8] Nick Szabo. ”The God Protocols.” 1997

[9] Nakamoto, Satoshi. ”Bitcoin: A peer-to-peer electronic cash system.” Consulted 1.2012 (2008): 28.

[10] Clark, Joseph Bonneau Andrew Miller Jeremy, Arvind Narayanan Joshua A. Kroll Edward, and W. Felten. ”SoK: Research Perspectives and Challenges for Bitcoin and Cryptocurren- cies.”, Security and Privacy (SP), 2015 IEEE Symposium on. IEEE, 2015.

[11] Maymounkov, Petar, and David Mazieres. ”Kademlia: A peer-to-peer information system based on the xor metric.” In Peer-to-Peer Systems, pp. 53-65. Springer Berlin Heidelberg, 2002.

[12] Yao, Andrew C. ”Protocols for secure computations.” 2013 IEEE 54th Annual Symposium on Foundations of Computer Science. IEEE, 1982.

[13] Ben-David, Assaf, Noam Nisan, and Benny Pinkas. ”FairplayMP: a system for secure multi- party computation.” Proceedings of the 15th ACM conference on Computer and communica- tions security. ACM, 2008.

[14] Bogdanov, Dan, Sven Laur, and Jan Willemson. ”Sharemind: A framework for fast privacy- preserving computations.” Computer Security-ESORICS 2008. Springer Berlin Heidelberg, 2008. 192-206.

[15] Team, VIFF Developement. ”Viff, the virtual ideal functionality framework.” 2009.

[16] Shamir, Adi. ”How to share a secret.” Communications of the ACM 22.11 (1979): 612-613.

[17] Ben-Or, Michael, Shafi Goldwasser, and Avi Wigderson. ”Completeness theorems for non- cryptographic fault-tolerant distributed computation.” Proceedings of the twentieth annual ACM symposium on Theory of computing. ACM, 1988.

[18] Baum, Carsten, Ivan Damgrd, and Claudio Orlandi. ”Publicly auditable secure multi-party computation.” Security and Cryptography for Networks. Springer International Publishing, 2014. 175-196.

[19] Damgrd, Ivan, et al. ”Practical covertly secure MPC for dishonest majorityor: Breaking the SPDZ limits.” Computer SecurityESORICS 2013. Springer Berlin Heidelberg, 2013. 1-18.

[20] Cohen, Gil, et al. ”Efficient multiparty protocols via log-depth threshold formulae.” Advances in CryptologyCRYPTO 2013. Springer Berlin Heidelberg, 2013. 185-202.

[21] Swanson, Tim. ”Consensus-as-a-service: a brief report on the emergence of permissioned, distributed ledger systems.”, 2015.

[22] Bentov, Iddo, and Ranjit Kumaresan. ”How to use bitcoin to design fair protocols.” Advances in CryptologyCRYPTO 2014. Springer Berlin Heidelberg, 2014. 421-439.

[23] Andrychowicz, Marcin, et al. ”Secure multiparty computations on bitcoin.” Security and Pri- vacy (SP), 2014 IEEE Symposium on. IEEE, 2014.
